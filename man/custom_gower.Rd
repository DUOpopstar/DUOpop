% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils-calculate_dcr.R
\name{custom_gower}
\alias{custom_gower}
\title{Custom Gower Distance Calculation}
\usage{
custom_gower(
  data.x,
  data.y = data.x,
  rngs = NULL,
  KR.corr = TRUE,
  na.as.distance = TRUE
)
}
\arguments{
\item{data.x}{A data frame, matrix, or vector containing observations (rows) and variables
(columns). If a vector is supplied, will be treated as a single observation.}

\item{data.y}{Optional: a data frame, matrix, or vector. If supplied, distances are
calculated between \code{data.x} and \code{data.y}; otherwise distances are calculated
within \code{data.x}.}

\item{rngs}{Optional: numeric vector of pre-computed ranges for numeric variables.
If \code{NULL}, ranges are calculated from the data.}

\item{KR.corr}{Logical; if \code{TRUE} (default), ordinal variables are scaled using the
correction method of Kaufman & Rousseeuw (1990), where ordinal values are mapped to
the unit interval \eqn{[0, 1]} based on their rank. If \code{FALSE}, the original Gower
(1971) scaling is used where ordinal values are treated the same as numeric values.}

\item{na.as.distance}{Logical; determines how missing values (\code{NA}) are handled:
\describe{
\item{\code{FALSE}}{Standard Gower behavior: distances involving \code{NA} are excluded from averaging, effectively ignoring missing data.}
\item{\code{TRUE} (default)}{\code{NA} values contribute to the distance computation. Pairs with one missing value are assigned a distance of 1; pairs with both values missing are assigned a distance of 0, and these comparisons count in the average.}
}}
}
\value{
A distance object of class \code{dist} if only \code{data.x} is considered; otherwise, a numeric matrix of pairwise distances.
}
\description{
This function computes pairwise Gower distances between observations in
one or two data sets, extending and modifying the implementation of \code{Gower.dist}
from the \strong{shipunov} package. It supports mixed data types
(numeric, ordinal, nominal, logical, and character) and provides flexible handling
of missing values and ordinal scaling.
}
\details{
This function is based on the Gower distance metric, which is designed to handle
mixed data types:
\itemize{
\item Numeric variables are scaled to \eqn{[0,1]} by their range.
\item Nominal and character variables are compared for their exact matches.
\item Ordinal variables are treated either using Kaufman & Rousseeuw's (1990) correction (\code{KR.corr = TRUE}) or Gower's original scaling, which treats them the same as nominal variables.
\item Logical variables are treated as binary factors.
}

Called by \code{\link{calculate_min_gower}}.
}
\examples{
# Mixed data frame with numeric, factor, and logical variables
df <- data.frame(
  height = c(150, 160, 170, NA),
  color = factor(c("red", "blue", "red", "green")),
  likes_coffee = c(TRUE, FALSE, TRUE, NA)
)

# Compute pairwise Gower distances with default settings
custom_gower(df)


}
\references{
Gower, J. C. (1971). A General Coefficient of Similarity and Some of Its Properties. \emph{Biometrics}, 27(4), 857-871. doi:10.2307/2528823

Kaufman, L., & Rousseeuw, P. J. (1990). \emph{Finding Groups in Data: An Introduction to Cluster Analysis}. Wiley, New York. ISBN 0-471-87876-6. doi:10.2307/2532178

Shipunov, A. (2020). \emph{Miscellaneous Functions from Alexey Shipunov}. R package version 1.17.1. doi:10.32614/CRAN.package.shipunov
}
